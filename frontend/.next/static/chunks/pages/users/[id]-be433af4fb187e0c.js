(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[108],{1195:function(e,n,t){(window.__NEXT_P=window.__NEXT_P||[]).push(["/users/[id]",function(){return t(1760)}])},8980:function(e,n,t){"use strict";t.d(n,{Z:function(){return Layout}});var r=t(5893);function Layout(e){let{children:n}=e;return(0,r.jsxs)("div",{className:"container",children:[(0,r.jsxs)("header",{children:[(0,r.jsx)("h1",{children:"MyCRUD â€” Users"}),(0,r.jsx)("hr",{})]}),(0,r.jsx)("main",{children:n})]})}},1842:function(e,n,t){"use strict";async function request(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},t=await fetch("".concat("http://localhost:8080/api/users").concat(e),{headers:{"Content-Type":"application/json"},...n});if(!t.ok){let e=await t.text();throw Error(e||t.statusText)}return 204===t.status?null:t.json()}async function getAllUsers(){return request("")}async function getUserById(e){return request("/".concat(e))}async function createUser(e){return request("",{method:"POST",body:JSON.stringify(e)})}async function updateUser(e,n){return request("/".concat(e),{method:"PUT",body:JSON.stringify(n)})}async function deleteUser(e){return request("/".concat(e),{method:"DELETE"})}t.d(n,{AW:function(){return getAllUsers},GA:function(){return getUserById},Nq:function(){return updateUser},h8:function(){return deleteUser},r4:function(){return createUser}})},1760:function(e,n,t){"use strict";t.r(n),t.d(n,{default:function(){return UserView}});var r=t(5893),s=t(1163),c=t(7294),u=t(8980),i=t(1842);function UserView(){let e=(0,s.useRouter)(),{id:n}=e.query,[t,o]=(0,c.useState)(null);async function handleDelete(){confirm("Delete user?")&&(await (0,i.h8)(n),e.push("/"))}return((0,c.useEffect)(()=>{n&&(0,i.GA)(n).then(o).catch(()=>o(null))},[n]),t)?(0,r.jsxs)(u.Z,{children:[(0,r.jsx)("h2",{children:t.name}),(0,r.jsxs)("p",{children:[(0,r.jsx)("strong",{children:"Email:"})," ",t.email]}),(0,r.jsxs)("p",{children:[(0,r.jsx)("strong",{children:"Country:"})," ",t.country]}),(0,r.jsxs)("p",{children:[(0,r.jsx)("strong",{children:"Occupation:"})," ",t.occupation]}),(0,r.jsxs)("p",{children:[(0,r.jsx)("button",{onClick:()=>e.push("/edit/".concat(n)),children:"Edit"})," ",(0,r.jsx)("button",{onClick:handleDelete,children:"Delete"})," ",(0,r.jsx)("button",{onClick:()=>e.push("/"),children:"Back"})]})]}):(0,r.jsx)(u.Z,{children:(0,r.jsx)("p",{children:"Loading..."})})}},1163:function(e,n,t){e.exports=t(9974)}},function(e){e.O(0,[774,888,179],function(){return e(e.s=1195)}),_N_E=e.O()}]);