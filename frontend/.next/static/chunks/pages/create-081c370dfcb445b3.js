(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[417],{466:function(e,n,t){(window.__NEXT_P=window.__NEXT_P||[]).push(["/create",function(){return t(7458)}])},8980:function(e,n,t){"use strict";t.d(n,{Z:function(){return Layout}});var r=t(5893);function Layout(e){let{children:n}=e;return(0,r.jsxs)("div",{className:"container",children:[(0,r.jsxs)("header",{children:[(0,r.jsx)("h1",{children:"MyCRUD â€” Users"}),(0,r.jsx)("hr",{})]}),(0,r.jsx)("main",{children:n})]})}},140:function(e,n,t){"use strict";t.d(n,{Z:function(){return UserForm}});var r=t(5893),u=t(7294);function UserForm(e){let{initial:n,onSubmit:t}=e,s={name:"",email:"",country:"",occupation:""},[i,a]=(0,u.useState)(()=>null!=n?n:s),[c,o]=(0,u.useState)(!1);function handleChange(e){let{name:n,value:t}=e.target;a(e=>({...e,[n]:t}))}async function submit(e){e.preventDefault(),o(!0);try{await t(i)}finally{o(!1)}}return(0,u.useEffect)(()=>{n&&a(n)},[n]),(0,r.jsxs)("form",{onSubmit:submit,children:[(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{children:"Name"}),(0,r.jsx)("br",{}),(0,r.jsx)("input",{name:"name",value:i.name,onChange:handleChange,required:!0})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{children:"Email"}),(0,r.jsx)("br",{}),(0,r.jsx)("input",{name:"email",value:i.email,onChange:handleChange,type:"email",required:!0})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{children:"Country"}),(0,r.jsx)("br",{}),(0,r.jsx)("input",{name:"country",value:i.country,onChange:handleChange})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{children:"Occupation"}),(0,r.jsx)("br",{}),(0,r.jsx)("input",{name:"occupation",value:i.occupation,onChange:handleChange})]}),(0,r.jsx)("div",{style:{marginTop:12},children:(0,r.jsx)("button",{type:"submit",disabled:c,children:c?"Saving...":"Save"})})]})}},1842:function(e,n,t){"use strict";async function request(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},t=await fetch("".concat("http://localhost:8080/api/users").concat(e),{headers:{"Content-Type":"application/json"},...n});if(!t.ok){let e=await t.text();throw Error(e||t.statusText)}return 204===t.status?null:t.json()}async function getAllUsers(){return request("")}async function getUserById(e){return request("/".concat(e))}async function createUser(e){return request("",{method:"POST",body:JSON.stringify(e)})}async function updateUser(e,n){return request("/".concat(e),{method:"PUT",body:JSON.stringify(n)})}async function deleteUser(e){return request("/".concat(e),{method:"DELETE"})}t.d(n,{AW:function(){return getAllUsers},GA:function(){return getUserById},Nq:function(){return updateUser},h8:function(){return deleteUser},r4:function(){return createUser}})},7458:function(e,n,t){"use strict";t.r(n),t.d(n,{default:function(){return Create}});var r=t(5893),u=t(1163),s=t(8980),i=t(140),a=t(1842);function Create(){let e=(0,u.useRouter)();async function onSubmit(n){await (0,a.r4)(n),e.push("/")}return(0,r.jsxs)(s.Z,{children:[(0,r.jsx)("h2",{children:"Create User"}),(0,r.jsx)(i.Z,{onSubmit:onSubmit})]})}},1163:function(e,n,t){e.exports=t(9974)}},function(e){e.O(0,[774,888,179],function(){return e(e.s=466)}),_N_E=e.O()}]);