(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[143],{4318:function(n,e,t){(window.__NEXT_P=window.__NEXT_P||[]).push(["/edit/[id]",function(){return t(9643)}])},8980:function(n,e,t){"use strict";t.d(e,{Z:function(){return Layout}});var r=t(5893);function Layout(n){let{children:e}=n;return(0,r.jsxs)("div",{className:"container",children:[(0,r.jsxs)("header",{children:[(0,r.jsx)("h1",{children:"MyCRUD â€” Users"}),(0,r.jsx)("hr",{})]}),(0,r.jsx)("main",{children:e})]})}},140:function(n,e,t){"use strict";t.d(e,{Z:function(){return UserForm}});var r=t(5893),i=t(7294);function UserForm(n){let{initial:e,onSubmit:t}=n,u={name:"",email:"",country:"",occupation:""},[s,a]=(0,i.useState)(()=>null!=e?e:u),[c,o]=(0,i.useState)(!1);function handleChange(n){let{name:e,value:t}=n.target;a(n=>({...n,[e]:t}))}async function submit(n){n.preventDefault(),o(!0);try{await t(s)}finally{o(!1)}}return(0,i.useEffect)(()=>{e&&a(e)},[e]),(0,r.jsxs)("form",{onSubmit:submit,children:[(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{children:"Name"}),(0,r.jsx)("br",{}),(0,r.jsx)("input",{name:"name",value:s.name,onChange:handleChange,required:!0})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{children:"Email"}),(0,r.jsx)("br",{}),(0,r.jsx)("input",{name:"email",value:s.email,onChange:handleChange,type:"email",required:!0})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{children:"Country"}),(0,r.jsx)("br",{}),(0,r.jsx)("input",{name:"country",value:s.country,onChange:handleChange})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{children:"Occupation"}),(0,r.jsx)("br",{}),(0,r.jsx)("input",{name:"occupation",value:s.occupation,onChange:handleChange})]}),(0,r.jsx)("div",{style:{marginTop:12},children:(0,r.jsx)("button",{type:"submit",disabled:c,children:c?"Saving...":"Save"})})]})}},1842:function(n,e,t){"use strict";async function request(){let n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},t=await fetch("".concat("http://localhost:8080/api/users").concat(n),{headers:{"Content-Type":"application/json"},...e});if(!t.ok){let n=await t.text();throw Error(n||t.statusText)}return 204===t.status?null:t.json()}async function getAllUsers(){return request("")}async function getUserById(n){return request("/".concat(n))}async function createUser(n){return request("",{method:"POST",body:JSON.stringify(n)})}async function updateUser(n,e){return request("/".concat(n),{method:"PUT",body:JSON.stringify(e)})}async function deleteUser(n){return request("/".concat(n),{method:"DELETE"})}t.d(e,{AW:function(){return getAllUsers},GA:function(){return getUserById},Nq:function(){return updateUser},h8:function(){return deleteUser},r4:function(){return createUser}})},9643:function(n,e,t){"use strict";t.r(e),t.d(e,{default:function(){return Edit}});var r=t(5893),i=t(1163),u=t(7294),s=t(8980),a=t(140),c=t(1842);function Edit(){let n=(0,i.useRouter)(),{id:e}=n.query,[t,o]=(0,u.useState)(null);async function onSubmit(t){await (0,c.Nq)(e,t),n.push("/")}return((0,u.useEffect)(()=>{e&&(0,c.GA)(e).then(o).catch(()=>o(null))},[e]),t)?(0,r.jsxs)(s.Z,{children:[(0,r.jsx)("h2",{children:"Edit User"}),(0,r.jsx)(a.Z,{initial:t,onSubmit:onSubmit})]}):(0,r.jsx)(s.Z,{children:(0,r.jsx)("p",{children:"Loading..."})})}},1163:function(n,e,t){n.exports=t(9974)}},function(n){n.O(0,[774,888,179],function(){return n(n.s=4318)}),_N_E=n.O()}]);